
# ğŸ§  State Management Strategy

Yapee ä½¿ç”¨ React Context API å¤„ç†äº”ç§ä¸»è¦ç±»å‹çš„çŠ¶æ€ã€‚

## 1. Server State (ProductContext, OrderContext)
- **èŒè´£**: åŒæ­¥åç«¯æ•°æ®ã€‚
- **ç­–ç•¥**: 
  - åˆå§‹åŒ–æ—¶ `useEffect` æ‹‰å–æ•°æ®ã€‚
  - ä½¿ç”¨ `loading` çŠ¶æ€æ§åˆ¶éª¨æ¶å±æ˜¾ç¤ºã€‚
  - å‘ç”Ÿé”™è¯¯æ—¶å›é€€åˆ° `FALLBACK_CONSTANTS` (ä¿è¯æ¼”ç¤ºç¨³å®šæ€§)ã€‚
- **æ”¹è¿›å»ºè®®**: åœ¨æ›´å¤§è§„æ¨¡åœºæ™¯ä¸‹ï¼Œå»ºè®®è¿ç§»åˆ° **TanStack Query (React Query)** ä»¥å¤„ç†ç¼“å­˜ã€å»é‡å’Œè‡ªåŠ¨é‡æ–°éªŒè¯ã€‚

## 2. Client State (CartContext, CompareContext)
- **èŒè´£**: ç®¡ç†ç”¨æˆ·åœ¨ä¼šè¯æœŸé—´çš„äº¤äº’æ•°æ®ã€‚
- **ç­–ç•¥**: 
  - æ•°æ®æºè‡ªç”¨æˆ·æ“ä½œã€‚
  - **æŒä¹…åŒ–**: ä½¿ç”¨ `localStorage` (`yapee_cart`, `yapee_wishlist`) ä¿è¯åˆ·æ–°åæ•°æ®ä¸ä¸¢å¤±ã€‚
  - **åŒæ­¥**: çŠ¶æ€å˜æ›´æ—¶ç«‹å³å†™å…¥ LocalStorageã€‚

## 3. Session State (AuthContext)
- **èŒè´£**: è¯†åˆ«å½“å‰ç”¨æˆ·ã€‚
- **ç­–ç•¥**:
  - ç™»å½•æˆåŠŸåå°† User å¯¹è±¡å­˜å…¥ LocalStorageã€‚
  - åœ¨ API è¯·æ±‚å¤´ä¸­åº”é™„åŠ  Token (å½“å‰æ¼”ç¤ºä½¿ç”¨ Mock)ã€‚
  - æä¾› `isAdmin` è¡ç”ŸçŠ¶æ€ç”¨äºè·¯ç”±ä¿æŠ¤ã€‚

## 4. UI State (ToastContext, LanguageContext)
- **èŒè´£**: æ§åˆ¶å…¨å±€ UI åé¦ˆå’Œé…ç½®ã€‚
- **ç­–ç•¥**:
  - Toast: ä½¿ç”¨é˜Ÿåˆ—æœºåˆ¶ï¼Œè‡ªåŠ¨åœ¨ 3ç§’åç§»é™¤æ¶ˆæ¯ã€‚
  - Language: ç®€å•çš„ i18n å®ç°ï¼Œé€šè¿‡ Context æä¾› `t(key)` å‡½æ•°ã€‚

## 5. URL State (Search Page)
- **èŒè´£**: ç­›é€‰å’Œæœç´¢ã€‚
- **ç­–ç•¥**: ä½¿ç”¨ `react-router-dom` çš„ `useSearchParams`ã€‚
- **ä¼˜åŠ¿**: å…è®¸ç”¨æˆ·åˆ†äº«å¸¦ç­›é€‰æ¡ä»¶çš„ URLã€‚
